-- SQLite schema for QIC project

PRAGMA foreign_keys = ON;

BEGIN TRANSACTION;

create table children (
  id integer primary key,
  DOB date,
  StaTerr char(2),
  ChID varchar(32),
  ChSex integer,
  ChRacAI integer,
  ChRacAs integer,
  ChRacBl integer,
  ChRacNH integer,
  ChRacWh integer,
  ChRacUd integer,
  CEthn integer,
  AFCARSID varchar(32)
);

create table reports (
  id integer primary key,
  filename varchar(255),
  SubYr char(4),
  StaTerr char(2),
  RptID varchar(32),
  RptFIPS varchar(16),
  RptDt date,
  RptTm varchar(16),
  InvDate date,
  InvStrTm varchar(16),
  RptSrc integer,
  RptDisp integer,
  RpDispDt date,
  Notifs integer,
  PlnsFCr integer,
  RefrCARA integer,
  RU13 integer,
  IsIPSE integer,
  ChID varchar(32),
  AFCARSID varchar(32),
  ChAge varchar(8),
  ChLvng integer,
  ChMil integer,
  ChPrior integer,
  ChMal1 integer,
  Mal1Lev integer,
  ChMal2 integer,
  Mal2Lev integer,
  ChMal3 integer,
  Mal3Lev integer,
  ChMal4 integer,
  Mal4Lev integer,
  MalDeath integer,
  CdAlc integer,
  CdDrug integer,
  CdRtrd integer,
  CdEmotnl integer,
  CdVisual integer,
  CdLearn integer,
  CdPhys integer,
  CdBehav integer,
  CdMedicl integer,
  FCAlc integer,
  FCDrug integer,
  FCRtrd integer,
  FCEmotnl integer,
  FCVisual integer,
  FCLearn integer,
  FCPhys integer,
  FCMedicl integer,
  FCViol integer,
  FCHouse integer,
  FCMoney integer,
  FCPublic integer,
  PostServ integer,
  ServDate date,
  FamSup integer,
  FamPres integer,
  FosterCr integer,
  RmvDate date,
  JuvPet integer,
  PetDate date,
  CoChRep integer,
  Adopt integer,
  CaseMang integer,
  Counsel integer,
  Daycare integer,
  Educatn integer,
  Employ integer,
  FamPlan integer,
  Health integer,
  Homebase integer,
  Housing integer,
  TransLiv integer,
  InfoRef integer,
  Legal integer,
  MentHlth integer,
  PregPar integer,
  Respite integer,
  SSDisabl integer,
  SSDelinq integer,
  SubAbuse integer,
  Transprt integer,
  OtherSv integer,
  FCDchDt date,
  Per1ID varchar(32),
  Per1Rel integer,
  Per1Prnt integer,
  Per1Cr integer,
  Per1Age integer,
  Per1Sex integer,
  P1RacAI integer,
  P1RacAs integer,
  P1RacBl integer,
  P1RacBH integer,
  P1RacWh integer,
  P1RacUD integer,
  Per1Ethn integer,
  Per1Mil integer,
  Per1Pior integer,
  Per1Mal1 integer,
  Per1Mal2 integer,
  Per1Mal3 integer,
  Per1Mal4 integer,
  Per2ID varchar(32),
  Per2Rel integer,
  Per2Prnt integer,
  Per2Cr integer,
  Per2Age integer,
  Per2Sex integer,
  P2RacAI integer,
  P2RacAs integer,
  P2RacBl integer,
  P2RacBH integer,
  P2RacWh integer,
  P2RacUD integer,
  Per2Ethn integer,
  Per2Mil integer,
  Per2Pior integer,
  Per2Mal1 integer,
  Per2Mal2 integer,
  Per2Mal3 integer,
  Per2Mal4 integer,
  Per3ID varchar(32),
  Per3Rel integer,
  Per3Prnt integer,
  Per3Cr integer,
  Per3Age integer,
  Per3Sex integer,
  P3RacAI integer,
  P3RacAs integer,
  P3RacBl integer,
  P3RacBH integer,
  P3RacWh integer,
  P3RacUD integer,
  Per3Ethn integer,
  Per3Mil integer,
  Per3Pior integer,
  Per3Mal1 integer,
  Per3Mal2 integer,
  Per3Mal3 integer,
  Per3Mal4 integer
);

create index reports_uniq_idx on reports(ChID, RptID);
create index reports_afcarsid_idx on reports(AFCARSID);
-- create unique index reports_uniq_ids_file_idx on reports(ChID, RptID, filename);
create unique index children_chid_idx on children(ChID);
create index children_afcarsid_idx on children(AFCARSID);

COMMIT;

