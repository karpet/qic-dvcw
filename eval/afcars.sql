-- SQLite schema for QIC project

PRAGMA foreign_keys = ON;

BEGIN TRANSACTION;

create table children (
  id varchar(16) primary key,
  State varchar(2) not null,
  RecNumbr varchar(16) not null,
  DOB date,
  Sex integer,
  AmIAKN integer,
  Asian integer,
  BlkAfrAm integer,
  HawaiiPI integer,
  White integer,
  UnToDetm integer,
  HisOrgin integer,
  ClinDis integer,
  MR integer,
  VisHear integer,
  PhyDis integer,
  EmotDist integer,
  OtherMed integer,
  EverAdpt integer,
  AgeAdopt integer,
  Rem1Dt date
);

create table episodes (
  id integer primary key,
  child_id varchar(16),
  filename varhcar(255),
  FY varchar(255),
  RepDatMo varchar(2),
  RepDatYr varchar(4),
  FIPSCode varchar(255),
  PedRevDt date,
  ClinDis integer,
  MR integer,
  VisHear integer,
  PhyDis integer,
  EmotDist integer,
  OtherMed integer,
  EverAdpt integer,
  AgeAdopt integer,
  Rem1Dt date, -- in both tables
  TotalRem integer,
  DLstFCDt date,
  LatRemDt date,
  RemTrnDt date,
  CurSetDt date,
  NumPlep integer,
  ManRem integer,
  PhyAbuse integer,
  SexAbuse integer,
  Neglect integer,
  AAParent integer,
  DAParent integer,
  AAChild integer,
  DAChild integer,
  ChilDis integer,
  ChBehPrb integer,
  PrtsDied integer,
  PrtsJail integer,
  NoCope integer,
  Abandmnt integer,
  Relinqsh integer,
  Housing integer,
  CurPlSet integer,
  PlaceOut integer,
  CaseGoal integer,
  CtkFamSt integer,
  CTK1YR integer,
  CTK2YR integer,
  TPRMomDt date,
  TPRDadDt date,
  FosFamSt integer,
  FCCTK1YR integer,
  FCCTK2YR integer,
  RF1AMAKN integer,
  RF1ASIAN integer,
  RF1BLKAA integer,
  RF1NHOPI integer,
  RF1WHITE integer,
  RF1UTOD integer,
  HOFCCTK1 integer,
  RF2AMAKN integer,
  RF2Asian integer,
  RF2BLKAA integer,
  RF2NHOPI integer,
  RF2WHITE integer,
  RF2UTOD integer,
  HOFCCTK2 integer,
  DoDFCDt date,
  DoDTrnDt date,
  DISREASN integer,
  IVEFC integer,
  IVEAA integer,
  IVAAFDC integer,
  IVDCHSUP integer,
  XIXMEDCD integer,
  SSIOther integer,
  NOA integer,
  FCMntPay integer,
  extras text,
  foreign key (child_id) references children(id) on delete cascade
);

create unique index children_uniq_idx on children(State, RecNumbr);
create index episodes_child_id_idx on episodes(child_id);

COMMIT;
